(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/kevin/LBC/docui/src/breadcrumbs-item.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16.
 */

var BreadcrumbsItem = React.createClass({displayName: "BreadcrumbsItem",
    render: function() {
    	console.log(this.props.item)
    	if (this.props.item.current != true){
	        return (
	            React.createElement("li", null, React.createElement("span", {className: "bread-label"}, React.createElement("a", {href: this.props.item.href}, this.props.item.label)))
	        );
    	}
    	else {
	        return (
	            React.createElement("li", null, React.createElement("span", {className: "bread-label current"}, this.props.item.label))
	        );    		
    	}
    }
})

module.exports = BreadcrumbsItem;

},{}],"/home/kevin/LBC/docui/src/breadcrumbs.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16.
 */
var BreadcrumbsItem = require('./breadcrumbs-item');

var Breadcrumbs = React.createClass({displayName: "Breadcrumbs",
    items: [],
    getInitialState: function(){
        return {path: '/', items: []}
    },
    recurse: function(path, lvl){
        var matches = path.match(/(.*\/)?([a-zA-Z0-9\-]+)/);
        if (matches !== null){
            href = '#'+matches[0];
            if (typeof(matches[1]) != "undefined"){
                this.recurse(matches[1], lvl+1)
            }
            href = '#'+matches[0];
            label = matches[2].replace(/\//g, '')
            console.log(lvl, lvl==0)
            this.items.push({
                               id: matches[0],
                               href: href,
                               label: label,
                               current: lvl==0
                            });
        }
    },
    render: function(){
        this.items = [];
        this.recurse(this.props.path, 0)
        var breadItems = this.items.map(function(b){
            if (b.label != '/'){
                return (
                    React.createElement(BreadcrumbsItem, {item: b, key: b.id})
                )
            }
        });
        return (
            React.createElement("div", {className: "breadcrumbs"}, 
                React.createElement("ul", null, 
                    React.createElement("li", null, React.createElement("span", {className: "bread-label home"}, React.createElement("a", {href: "/#/"}, React.createElement("i", {className: "fa fa-home", "aria-hidden": "true"}), "Hoomie!"))), 
                    breadItems
                )
            )
        )
    }
});

module.exports = Breadcrumbs;

},{"./breadcrumbs-item":"/home/kevin/LBC/docui/src/breadcrumbs-item.js"}],"/home/kevin/LBC/docui/src/doc-box.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16. 
 */

var Breadcrumbs = require('./breadcrumbs')
var DocList = require('./doc-list');

var DocBox = React.createClass({displayName: "DocBox",
    path: '/',
    baseUrl: "http://"+window.location.hostname+":"+window.location.port+"/test",
    getInitialState: function(){
       return {data: {}, path: '/'}
    },
    componentDidMount: function(){
        hash = window.location.hash.substr(1);
        this.path = hash;
        setInterval(this.loadFolders(this.path), this.props.pollInterval);
        $(window).on('hashchange', function(){
            subfolder = window.location.hash.substr(1);
            context.path = subfolder;
            context.loadFolders(subfolder);
        });
        context = this;
    },
    sanitizePath: function(subfolder){
        var ret = subfolder.replace(/\//g, '');
        return ret;
    },
    recurse: function(data, path){
        if (!path || path == '/'){
            return data;
        }
        part = path.match(/\/?([a-zA-Z\-0-9]+)(.*)/)
        path = this.sanitizePath(part[1]);
        if (path && data.hasOwnProperty(path)){
            if (data[path].hasOwnProperty('children')){
                data = this.recurse(data[path].children, part[2]);
            }
            else if (data[path].hasOwnProperty('versions')) {
                data = data[path].versions;
            }
            else {
                data = {
                    master:
                    {
                        url: context.baseUrl+"/"+path+"/master"
                    }
                };
            }
        }
        return data;
    },
    loadFolders: function(subfolder) {
        $.ajax({
            url: "/list.json",
            dataType: 'json',
            cache: false,
            success: function(data) {
                data = context.recurse(data, context.path);
                this.setState({data: data, path: context.path});
            }.bind(this),
            error: function(xhr, status, err) {
                console.error(this.props.url, status, err.toString());
            }.bind(this)
        });
    },
    render: function() {
        return (
            React.createElement("div", {className: "doc-box"}, 
                React.createElement(Breadcrumbs, {path: this.state.path}), 
                React.createElement(DocList, {data: this.state.data})
            )
        )
    }
});

module.exports = DocBox;

},{"./breadcrumbs":"/home/kevin/LBC/docui/src/breadcrumbs.js","./doc-list":"/home/kevin/LBC/docui/src/doc-list.js"}],"/home/kevin/LBC/docui/src/doc-list.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16.
 */

var DocSquare = require('./doc-square');
var DocVersion = require('./doc-version');

var DocList = React.createClass({displayName: "DocList",
    render: function() {
        if ($.isEmptyObject(this.props.data)){
            return (
                React.createElement("span", null, "I'm Empty -_-")
            );
        }
        else {
            var docNodes = []
            $.each(this.props.data, function(idx, docs){
                if (!$.isEmptyObject(docs)){
                    if (docs.hasOwnProperty('url')){
                        console.log(docs);
                        docNodes.push(
                            React.createElement(DocVersion, {version: idx, name: docs.name, color: docs.color, url: docs.url, key: idx})
                        )
                    }
                    else {
                        docNodes.push(
                            React.createElement(DocSquare, {firstLetter: docs.firstLetter, color: docs.color, fullName: docs.fullName, key: docs.key})
                        )
                    }

                }

            });
            return (
                React.createElement("div", {className: "doc-list", data: this.props.data}, 
                   docNodes
                )
            );
        }
    }
});

module.exports = DocList;

},{"./doc-square":"/home/kevin/LBC/docui/src/doc-square.js","./doc-version":"/home/kevin/LBC/docui/src/doc-version.js"}],"/home/kevin/LBC/docui/src/doc-square.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16.
 */

var DocSquare = React.createClass({displayName: "DocSquare",
    handleClick: function(path){
        window.location.hash = window.location.hash + path +"/";

    },
    render: function() {
        var boundClick = this.handleClick.bind(this, this.props.fullName);
        var divStyle = {
            backgroundColor: this.props.color
        }
        return (
            React.createElement("div", {className: "doc-square", style: divStyle, onClick: boundClick}, 
                React.createElement("h2", null, this.props.firstLetter), 
                React.createElement("span", null, this.props.fullName)
            )
        )
    },

});

module.exports = DocSquare;

},{}],"/home/kevin/LBC/docui/src/doc-version.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16.
 */

var DocVersion = React.createClass({displayName: "DocVersion",
    render: function() {
    	var divStyle = {
            backgroundColor: this.props.color
        }
        return (
            React.createElement("div", {className: "doc-square doc-version", style: divStyle}, 
                React.createElement("h3", null, this.props.name), 
                React.createElement("a", {href: this.props.url}, "browse")
            )
        )
    },

});

module.exports = DocVersion;

},{}],"/home/kevin/LBC/docui/src/index.js":[function(require,module,exports){
/**
 * Created by kevin on 07/03/16.
  */

var DocBox = require('./doc-box');

ReactDOM.render(
    React.createElement("div", {className: "main"}, 
        React.createElement("h1", null, "LBC Tech doc"), 
        React.createElement(DocBox, {pollInterval: 20000})
    ),
    document.getElementById('index')
);

},{"./doc-box":"/home/kevin/LBC/docui/src/doc-box.js"}]},{},["/home/kevin/LBC/docui/src/index.js"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9rZXZpbi9MQkMvZG9jdWkvc3JjL2JyZWFkY3J1bWJzLWl0ZW0uanMiLCIvaG9tZS9rZXZpbi9MQkMvZG9jdWkvc3JjL2JyZWFkY3J1bWJzLmpzIiwiL2hvbWUva2V2aW4vTEJDL2RvY3VpL3NyYy9kb2MtYm94LmpzIiwiL2hvbWUva2V2aW4vTEJDL2RvY3VpL3NyYy9kb2MtbGlzdC5qcyIsIi9ob21lL2tldmluL0xCQy9kb2N1aS9zcmMvZG9jLXNxdWFyZS5qcyIsIi9ob21lL2tldmluL0xCQy9kb2N1aS9zcmMvZG9jLXZlcnNpb24uanMiLCIvaG9tZS9rZXZpbi9MQkMvZG9jdWkvc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsR0FBRzs7QUFFSCxJQUFJLHFDQUFxQywrQkFBQTtJQUNyQyxNQUFNLEVBQUUsV0FBVztLQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0tBQzVCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQztTQUNoQzthQUNJLG9CQUFBLElBQUcsRUFBQSxJQUFDLEVBQUEsb0JBQUEsTUFBSyxFQUFBLENBQUEsQ0FBQyxTQUFBLEVBQVMsQ0FBQyxhQUFjLENBQUEsRUFBQSxvQkFBQSxHQUFFLEVBQUEsQ0FBQSxDQUFDLElBQUEsRUFBSSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQU0sQ0FBQSxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQVUsQ0FBTyxDQUFLLENBQUE7V0FDMUc7TUFDTDtVQUNJO1NBQ0Q7YUFDSSxvQkFBQSxJQUFHLEVBQUEsSUFBQyxFQUFBLG9CQUFBLE1BQUssRUFBQSxDQUFBLENBQUMsU0FBQSxF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LEdBQUc7O0FBRUgsSUFBSSxnQ0FBZ0MsMEJBQUE7SUFDaEMsTUFBTSxFQUFFLFdBQVc7S0FDbEIsSUFBSSxRQUFRLEdBQUc7WUFDUixlQUFlLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO1NBQ3BDO1FBQ0Q7WUFDSSxvQkFBQSxLQUFJLEVBQUEsQ0FBQSxDQUFDLFNBQUEsRUFBUyxDQUFDLHdCQUFBLEVBQXdCLENBQUMsS0FBQSxFQUFLLENBQUUsUUFBUyxDQUFFLENBQUEsRUFBQTtnQkFDdEQsb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQVUsQ0FBQSxFQUFBO2dCQUMxQixvQkFBQSxHQUFFLEVBQUEsQ0FBQSxDQUFDLElBQUEsRUFBSSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBSyxDQUFBLEVBQUEsUUFBVSxDQUFBO1lBQ2pDLENBQUE7U0FDVDtBQUNULEtBQUs7O0FBRUwsQ0FBQyxDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVOzs7QUNuQjNCOztBQUVBLElBQUk7O0FBRUosSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDOztBQUVsQyxRQUFRLENBQUMsTUFBTTtJQUNYLG9CQUFBLEtBQUksRUFBQSxDQUFBLENBQUMsU0FBQSxFQUFTLENBQUMsTUFBTyxDQUFBLEVBQUE7UUFDbEIsb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQSxjQUFpQixDQUFBLEVBQUE7UUFDckIsb0JBQUMsTUFBTSxFQUFBLENBQUEsQ0FBQyxZQUFBLEVBQVksQ0FBRSxLQUFNLENBQUUsQ0FBQTtJQUM1QixDQUFBO0lBQ04sUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUM7Q0FDbkMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqIENyZWF0ZWQgYnkga2V2aW4gb24gMDcvMDMvMTYuXG4gKi9cblxudmFyIEJyZWFkY3J1bWJzSXRlbSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIFx0Y29uc29sZS5sb2codGhpcy5wcm9wcy5pdGVtKVxuICAgIFx0aWYgKHRoaXMucHJvcHMuaXRlbS5jdXJyZW50ICE9IHRydWUpe1xuXHQgICAgICAgIHJldHVybiAoXG5cdCAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzc05hbWU9XCJicmVhZC1sYWJlbFwiPjxhIGhyZWY9e3RoaXMucHJvcHMuaXRlbS5ocmVmfT57dGhpcy5wcm9wcy5pdGVtLmxhYmVsfTwvYT48L3NwYW4+PC9saT5cblx0ICAgICAgICApO1xuICAgIFx0fVxuICAgIFx0ZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIChcblx0ICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzTmFtZT1cImJyZWFkLWxhYmVsIGN1cnJlbnRcIj57dGhpcy5wcm9wcy5pdGVtLmxhYmVsfTwvc3Bhbj48L2xpPlxuXHQgICAgICAgICk7ICAgIFx0XHRcbiAgICBcdH1cbiAgICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJyZWFkY3J1bWJzSXRlbTsiLCIvKipcbiAqIENyZWF0ZWQgYnkga2V2aW4gb24gMDcvMDMvMTYuXG4gKi9cbnZhciBCcmVhZGNydW1ic0l0ZW0gPSByZXF1aXJlKCcuL2JyZWFkY3J1bWJzLWl0ZW0nKTtcblxudmFyIEJyZWFkY3J1bWJzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGl0ZW1zOiBbXSxcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7cGF0aDogJy8nLCBpdGVtczogW119XG4gICAgfSxcbiAgICByZWN1cnNlOiBmdW5jdGlvbihwYXRoLCBsdmwpe1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IHBhdGgubWF0Y2goLyguKlxcLyk/KFthLXpBLVowLTlcXC1dKykvKTtcbiAgICAgICAgaWYgKG1hdGNoZXMgIT09IG51bGwpe1xuICAgICAgICAgICAgaHJlZiA9ICcjJyttYXRjaGVzWzBdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZihtYXRjaGVzWzFdKSAhPSBcInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3Vyc2UobWF0Y2hlc1sxXSwgbHZsKzEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBocmVmID0gJyMnK21hdGNoZXNbMF07XG4gICAgICAgICAgICBsYWJlbCA9IG1hdGNoZXNbMl0ucmVwbGFjZSgvXFwvL2csICcnKVxuICAgICAgICAgICAgY29uc29sZS5sb2cobHZsLCBsdmw9PTApXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtYXRjaGVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGx2bD09MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWN1cnNlKHRoaXMucHJvcHMucGF0aCwgMClcbiAgICAgICAgdmFyIGJyZWFkSXRlbXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbihiKXtcbiAgICAgICAgICAgIGlmIChiLmxhYmVsICE9ICcvJyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPEJyZWFkY3J1bWJzSXRlbSBpdGVtPXtifSBrZXk9e2IuaWR9PjwvQnJlYWRjcnVtYnNJdGVtPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJyZWFkY3J1bWJzXCI+XG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3NOYW1lPVwiYnJlYWQtbGFiZWwgaG9tZVwiPjxhIGhyZWY9XCIvIy9cIj48aSBjbGFzc05hbWU9XCJmYSBmYS1ob21lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPkhvb21pZSE8L2E+PC9zcGFuPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIHticmVhZEl0ZW1zfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJyZWFkY3J1bWJzOyIsIi8qKlxuICogQ3JlYXRlZCBieSBrZXZpbiBvbiAwNy8wMy8xNi4gXG4gKi9cblxudmFyIEJyZWFkY3J1bWJzID0gcmVxdWlyZSgnLi9icmVhZGNydW1icycpXG52YXIgRG9jTGlzdCA9IHJlcXVpcmUoJy4vZG9jLWxpc3QnKTtcblxudmFyIERvY0JveCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBwYXRoOiAnLycsXG4gICAgYmFzZVVybDogXCJodHRwOi8vXCIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lK1wiOlwiK3dpbmRvdy5sb2NhdGlvbi5wb3J0K1wiL3Rlc3RcIixcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgcmV0dXJuIHtkYXRhOiB7fSwgcGF0aDogJy8nfVxuICAgIH0sXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSk7XG4gICAgICAgIHRoaXMucGF0aCA9IGhhc2g7XG4gICAgICAgIHNldEludGVydmFsKHRoaXMubG9hZEZvbGRlcnModGhpcy5wYXRoKSwgdGhpcy5wcm9wcy5wb2xsSW50ZXJ2YWwpO1xuICAgICAgICAkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc3ViZm9sZGVyID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpO1xuICAgICAgICAgICAgY29udGV4dC5wYXRoID0gc3ViZm9sZGVyO1xuICAgICAgICAgICAgY29udGV4dC5sb2FkRm9sZGVycyhzdWJmb2xkZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgfSxcbiAgICBzYW5pdGl6ZVBhdGg6IGZ1bmN0aW9uKHN1YmZvbGRlcil7XG4gICAgICAgIHZhciByZXQgPSBzdWJmb2xkZXIucmVwbGFjZSgvXFwvL2csICcnKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIHJlY3Vyc2U6IGZ1bmN0aW9uKGRhdGEsIHBhdGgpe1xuICAgICAgICBpZiAoIXBhdGggfHwgcGF0aCA9PSAnLycpe1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcGFydCA9IHBhdGgubWF0Y2goL1xcLz8oW2EtekEtWlxcLTAtOV0rKSguKikvKVxuICAgICAgICBwYXRoID0gdGhpcy5zYW5pdGl6ZVBhdGgocGFydFsxXSk7XG4gICAgICAgIGlmIChwYXRoICYmIGRhdGEuaGFzT3duUHJvcGVydHkocGF0aCkpe1xuICAgICAgICAgICAgaWYgKGRhdGFbcGF0aF0uaGFzT3duUHJvcGVydHkoJ2NoaWxkcmVuJykpe1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLnJlY3Vyc2UoZGF0YVtwYXRoXS5jaGlsZHJlbiwgcGFydFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhW3BhdGhdLmhhc093blByb3BlcnR5KCd2ZXJzaW9ucycpKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFbcGF0aF0udmVyc2lvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBtYXN0ZXI6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5iYXNlVXJsK1wiL1wiK3BhdGgrXCIvbWFzdGVyXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBsb2FkRm9sZGVyczogZnVuY3Rpb24oc3ViZm9sZGVyKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiL2xpc3QuanNvblwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gY29udGV4dC5yZWN1cnNlKGRhdGEsIGNvbnRleHQucGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZGF0YTogZGF0YSwgcGF0aDogY29udGV4dC5wYXRofSk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5wcm9wcy51cmwsIHN0YXR1cywgZXJyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9jLWJveFwiPlxuICAgICAgICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aGlzLnN0YXRlLnBhdGh9Lz5cbiAgICAgICAgICAgICAgICA8RG9jTGlzdCBkYXRhPXt0aGlzLnN0YXRlLmRhdGF9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvY0JveDsiLCIvKipcbiAqIENyZWF0ZWQgYnkga2V2aW4gb24gMDcvMDMvMTYuXG4gKi9cblxudmFyIERvY1NxdWFyZSA9IHJlcXVpcmUoJy4vZG9jLXNxdWFyZScpO1xudmFyIERvY1ZlcnNpb24gPSByZXF1aXJlKCcuL2RvYy12ZXJzaW9uJyk7XG5cbnZhciBEb2NMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkLmlzRW1wdHlPYmplY3QodGhpcy5wcm9wcy5kYXRhKSl7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuPkknbSBFbXB0eSAtXy08L3NwYW4+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRvY05vZGVzID0gW11cbiAgICAgICAgICAgICQuZWFjaCh0aGlzLnByb3BzLmRhdGEsIGZ1bmN0aW9uKGlkeCwgZG9jcyl7XG4gICAgICAgICAgICAgICAgaWYgKCEkLmlzRW1wdHlPYmplY3QoZG9jcykpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jcy5oYXNPd25Qcm9wZXJ0eSgndXJsJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NOb2Rlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEb2NWZXJzaW9uIHZlcnNpb249e2lkeH0gbmFtZT17ZG9jcy5uYW1lfSBjb2xvcj17ZG9jcy5jb2xvcn0gdXJsPXtkb2NzLnVybH0gIGtleT17aWR4fT48L0RvY1ZlcnNpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NOb2Rlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEb2NTcXVhcmUgZmlyc3RMZXR0ZXI9e2RvY3MuZmlyc3RMZXR0ZXJ9IGNvbG9yPXtkb2NzLmNvbG9yfSBmdWxsTmFtZT17ZG9jcy5mdWxsTmFtZX0ga2V5PXtkb2NzLmtleX0+PC9Eb2NTcXVhcmU+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9jLWxpc3RcIiBkYXRhPXt0aGlzLnByb3BzLmRhdGF9PlxuICAgICAgICAgICAgICAgICAgIHtkb2NOb2Rlc31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb2NMaXN0OyIsIi8qKlxuICogQ3JlYXRlZCBieSBrZXZpbiBvbiAwNy8wMy8xNi5cbiAqL1xuXG52YXIgRG9jU3F1YXJlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihwYXRoKXtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaCArIHBhdGggK1wiL1wiO1xuXG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYm91bmRDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCB0aGlzLnByb3BzLmZ1bGxOYW1lKTtcbiAgICAgICAgdmFyIGRpdlN0eWxlID0ge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmNvbG9yXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9jLXNxdWFyZVwiIHN0eWxlPXtkaXZTdHlsZX0gb25DbGljaz17Ym91bmRDbGlja30+XG4gICAgICAgICAgICAgICAgPGgyPnt0aGlzLnByb3BzLmZpcnN0TGV0dGVyfTwvaDI+XG4gICAgICAgICAgICAgICAgPHNwYW4+e3RoaXMucHJvcHMuZnVsbE5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9LFxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb2NTcXVhcmU7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGtldmluIG9uIDA3LzAzLzE2LlxuICovXG5cbnZhciBEb2NWZXJzaW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgXHR2YXIgZGl2U3R5bGUgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuY29sb3JcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb2Mtc3F1YXJlIGRvYy12ZXJzaW9uXCIgc3R5bGU9e2RpdlN0eWxlfSA+XG4gICAgICAgICAgICAgICAgPGgzPnt0aGlzLnByb3BzLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVybH0+YnJvd3NlPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9LFxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb2NWZXJzaW9uOyIsIi8qKlxuICogQ3JlYXRlZCBieSBrZXZpbiBvbiAwNy8wMy8xNi5cbiAgKi9cblxudmFyIERvY0JveCA9IHJlcXVpcmUoJy4vZG9jLWJveCcpO1xuXG5SZWFjdERPTS5yZW5kZXIoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYWluXCI+XG4gICAgICAgIDxoMT5MQkMgVGVjaCBkb2M8L2gxPlxuICAgICAgICA8RG9jQm94IHBvbGxJbnRlcnZhbD17MjAwMDB9Lz5cbiAgICA8L2Rpdj4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZGV4Jylcbik7XG4iXX0=
